!function(t){var e={options:{optionClass:"",dropdownClass:"",autoinit:!1,callback:!1,dynamicOptLabel:"Add a new option..."},init:function(o){function d(d){if(!d.data("dropdownjs")&&d.is("select")){var a=d.attr("multiple"),n=d.attr("data-dynamic-opts"),s=t(),i=t("<div></div>");i.addClass("dropdownjs").addClass(o.dropdownStyle),i.data("select",d);var l=t("<input type=text readonly class=fakeinput>");t.material&&l.data("mdproc",!0),i.append(l);var r=t("<ul></ul>");r.data("select",d),i.append(r),l.attr("placeholder",d.attr("placeholder")),d.find("option").each(function(){var o=t(this);e._addOption(r,o)}),n&&(s=t("<li class=dropdownjs-add></li>"),s.append("<input>"),s.find("input").attr("placeholder",o.dynamicOptLabel),r.append(s));i.find("li");if(a)e._select(i,r.find("[selected]"));else{var p;p=r.find("[selected]").length?r.find("[selected]").last():r.find("li").first(),e._select(i,p)}l.addClass(d[0].className),d.hide().attr("data-dropdownjs",!0),d.after(i),o.callback&&o.callback(i),r.on("click","li:not(.dropdownjs-add)",function(o){e._select(i,t(this)),d.change()}),r.on("keydown","li:not(.dropdownjs-add)",function(o){return 27===o.which?(t(".dropdownjs > ul > li").attr("tabindex",-1),l.removeClass("focus").blur()):32!==o.which||t(o.target).is("input")?void 0:(e._select(i,t(this)),!1)}),r.on("focus","li:not(.dropdownjs-add)",function(){d.is(":disabled")||l.addClass("focus")}),n&&n.length&&s.on("keydown",function(e){if(13===e.which){var o=t("<option>"),a=s.find("input").val();s.find("input").val(""),o.attr("value",a),o.text(a),d.append(o)}}),d.on("DOMNodeInserted",function(o){var d=t(o.target);d.val().length&&(e._addOption(r,d),r.find("li").not(".dropdownjs-add").attr("tabindex",0))}),l.on("click focus",function(e){if(e.stopPropagation(),!d.is(":disabled")){t(".dropdownjs > ul > li").attr("tabindex",-1),t(".dropdownjs > input").not(t(this)).removeClass("focus").blur(),t(".dropdownjs > ul > li").not(".dropdownjs-add").attr("tabindex",0);var o={top:t(this).offset().top-t(document).scrollTop(),left:t(this).offset().left-t(document).scrollLeft(),bottom:t(window).height()-(t(this).offset().top-t(document).scrollTop()),right:t(window).width()-(t(this).offset().left-t(document).scrollLeft())},a=o.bottom;200>a&&o.top>o.bottom?(a=o.top,r.attr("placement","top-left")):r.attr("placement","bottom-left"),t(this).next("ul").css("max-height",a-20),t(this).addClass("focus")}}),t(document).on("click",function(e){a&&t(e.target).parents(".dropdownjs").length||t(e.target).parents(".dropdownjs-add").length||t(e.target).is(".dropdownjs-add")||(t(".dropdownjs > ul > li").attr("tabindex",-1),l.removeClass("focus"))})}}o=o?t.extend(e.options,o):e.options,o.autoinit&&t(document).on("DOMNodeInserted",function(e){var a=t(e.target);a.is("select")&&a.is(o.autoinit)&&d(a)}),t(this).each(function(){d(t(this))})},select:function(o){var d=t(this).find('[value="'+o+'"]');e._select(t(this),d)},_select:function(e,o){if(!o.is(".dropdownjs-add")){var d=e.data("select"),a=e.find("input.fakeinput"),n=d.attr("multiple"),s=e.find("li");if(n){o.toggleClass("selected");var i=d.find('[value="'+o.attr("value")+'"]');i.prop("selected")?i.prop("selected",!0):i.prop("selected",!1);var l=[];s.each(function(){t(this).hasClass("selected")&&l.push(t(this).text())}),a.val(l.join(", "))}n||(s.not(o).removeClass("selected"),o.addClass("selected"),d.val(o.attr("value")),a.val(o.text())),t.material&&(a.val().trim()?d.removeClass("empty"):d.addClass("empty"))}},_addOption:function(e,o){var d=t("<li></li>");d.addClass(this.options.optionStyle),o.text()?d.text(o.text()):d.html("&nbsp;"),d.attr("value",o.val()),e.data("select").attr("data-dynamic-opts")&&(d.append("<span class=close></span>"),d.find(".close").on("click",function(){d.remove(),o.remove()})),o.prop("selected")&&d.prop("selected",!0),e.find(".dropdownjs-add").length?e.find(".dropdownjs-add").before(d):e.append(d)}};t.fn.dropdown=function(o){return e[o]?e[o].apply(this,Array.prototype.slice.call(arguments,1)):"object"==typeof o|!o?e.init.apply(this,arguments):void t.error("Method "+o+" does not exists on jQuery.dropdown")}}(jQuery);
//# sourceMappingURL=jquery.dropdown.min.js.map